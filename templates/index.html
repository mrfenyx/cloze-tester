<!doctype html>
<html lang="en">
  <head>
    <title>DeepSeek Text Generator</title>
    <style>
      body { font-family: Arial, sans-serif; max-width: 700px; margin: auto; }
      textarea { width: 100%; height: 160px; }
      .result { margin-top: 2em; background: #f8f8f8; padding: 1em; border-radius: 5px; }
      label { font-weight: bold; }
    </style>
  </head>
  <body>
    <h1>Generate English Text (DeepSeek)</h1>
    <form method="post">
      <label for="subject">Subject:</label>
      <input type="text" id="subject" name="subject" value="{{ subject or '' }}" required>
      &nbsp;
      <label for="level">CEFR Level:</label>
      <select id="level" name="level" required>
        {% for l in ["A1","A2","B1","B2","C1","C2"] %}
          <option value="{{l}}" {% if level == l %}selected{% endif %}>{{l}}</option>
        {% endfor %}
      </select>
      <button type="submit">Generate with DeepSeek</button>
    </form>
    {% if error %}
      <div style="color:red; margin-top:1em;">{{ error }}</div>
    {% endif %}
    {% if generated_text %}
      <div class="result">
        <h2>Generated Text:</h2>
        <pre>{{ generated_text }}</pre>
      </div>
    {% endif %}
  </body>
</html>
